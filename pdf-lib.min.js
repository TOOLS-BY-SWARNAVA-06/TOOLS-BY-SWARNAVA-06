!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).PDFLib={})}(this,(function(t){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,n)};function n(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var r=function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function i(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{l(r.next(t))}catch(t){o(t)}}function s(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((r=r.apply(t,e||[])).next())}))}function o(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function a(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}for(var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=new Uint8Array(256),h=0;h<s.length;h++)l[s.charCodeAt(h)]=h;var u,c=function(t){for(var e="",n=t.length,r=0;r<n;r+=3)e+=s[t[r]>>2],e+=s[(3&t[r])<<4|t[r+1]>>4],e+=s[(15&t[r+1])<<2|t[r+2]>>6],e+=s[63&t[r+2]];return n%3==2?e=e.substring(0,e.length-1)+"=":n%3==1&&(e=e.substring(0,e.length-2)+"=="),e},d=function(t){var e,n,r,i,o,a=.75*t.length,s=t.length,h=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var u=new Uint8Array(a);for(e=0;e<s;e+=4)n=l[t.charCodeAt(e)],r=l[t.charCodeAt(e+1)],i=l[t.charCodeAt(e+2)],o=l[t.charCodeAt(e+3)],u[h++]=n<<2|r>>4,u[h++]=(15&r)<<4|i>>2,u[h++]=(3&i)<<6|63&o;return u},f=/^(data)?:?([\w\/\+]+)?;?(charset=[\w-]+|base64)?.*,/i,p=function(t){var e=t.trim(),n=e.substring(0,100).match(f);if(!n)return d(e);var r=n[0],i=e.substring(r.length);return d(i)},g=function(t){return t.charCodeAt(0)},v=function(t){return t.codePointAt(0)},y=function(t,e){return x(t.toString(16),e,"0").toUpperCase()},m=function(t){return y(t,2)},b=function(t){return String.fromCharCode(t)},w=function(t){return b(parseInt(t,16))},x=function(t,e,n){for(var r="",i=0,o=e-t.length;i<o;i++)r+=n;return r+t},k=function(t,e,n){for(var r=t.length,i=0;i<r;i++)e[n++]=t.charCodeAt(i);return r},F=function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},S=function(t){return t.replace(/\t|\u0085|\u2028|\u2029/g,"    ").replace(/[\b\v]/g,"")},C=["\\n","\\f","\\r","\\u000B"],A=function(t){return/^[\n\f\r\u000B]$/.test(t)},T=function(t){return t.split(/[\n\f\r\u000B]/)},P=function(t){return t.replace(/[\n\f\r\u000B]/g," ")},z=function(t,e){var n,r=t.charCodeAt(e),i=e+1,o=1;return r>=55296&&r<=56319&&t.length>i&&(n=t.charCodeAt(i))>=56320&&n<=57343&&(o=2),[t.slice(e,e+o),o]},R=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=z(t,n),o=i[0],a=i[1];e.push(o),n+=a}return e},O=function(t,e,n,r){for(var i=function(t){for(var e=C.join("|"),n=["$"],r=0,i=t.length;r<i;r++){var o=t[r];if(A(o))throw new TypeError("`wordBreak` must not include "+e);n.push(""===o?".":F(o))}var a=n.join("|");return new RegExp("("+e+")|((.*?)("+a+"))","gm")}(e),o=S(t).match(i),a="",s=0,l=[],h=function(){""!==a&&l.push(a),a="",s=0},u=0,c=o.length;u<c;u++){var d=o[u];if(A(d))h();else{var f=r(d);s+f>n&&h(),a+=d,s+=f}}return h(),l},D=/^D:(\d\d\d\d)(\d\d)?(\d\d)?(\d\d)?(\d\d)?(\d\d)?([+\-Z])?(\d\d)?'?(\d\d)?'?$/,B=function(t){var e=t.match(D);if(e){var n=e[1],r=e[2],i=void 0===r?"01":r,o=e[3],a=void 0===o?"01":o,s=e[4],l=void 0===s?"00":s,h=e[5],u=void 0===h?"00":h,c=e[6],d=void 0===c?"00":c,f=e[7],p=void 0===f?"Z":f,g=e[8],v=void 0===g?"00":g,y=e[9];return new Date(n+"-"+i+"-"+a+"T"+l+":"+u+":"+d+("Z"===p?"Z":""+p+v+":"+(void 0===y?"00":y)))}},N=function(t,e){for(var n,r,i=0;i<t.length;){var o=t.substring(i).match(e);if(!o)return{match:r,pos:i};r=o,i+=(null!==(n=o.index)&&void 0!==n?n:0)+o[0].length}return{match:r,pos:i}},E=function(t){return t[t.length-1]},j=function(t){if(t instanceof Uint8Array)return t;for(var e=t.length,n=new Uint8Array(e),r=0;r<e;r++)n[r]=t.charCodeAt(r);return n},M=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t.length,r=[],i=0;i<n;i++){var o=t[i];r[i]=o instanceof Uint8Array?o:j(o)}var a=0;for(i=0;i<n;i++)a+=t[i].length;for(var s=new Uint8Array(a),l=0,h=0;h<n;h++)for(var u=r[h],c=0,d=u.length;c<d;c++)s[l++]=u[c];return s},I=function(t){for(var e=0,n=0,r=t.length;n<r;n++)e+=t[n].length;var i=new Uint8Array(e),o=0;for(n=0,r=t.length;n<r;n++){var a=t[n];i.set(a,o),o+=a.length}return i},U=function(t){for(var e="",n=0,r=t.length;n<r;n++)e+=b(t[n]);return e},V=function(t,e){return t.id-e.id},W=function(t,e){for(var n=[],r=0,i=t.length;r<i;r++){var o=t[r],a=t[r-1];0!==r&&e(o)===e(a)||n.push(o)}return n},q=function(t){for(var e=t.length,n=0,r=Math.floor(e/2);n<r;n++){var i=n,o=e-n-1,a=t[n];t[i]=t[o],t[o]=a}return t},L=function(t){for(var e=0,n=0,r=t.length;n<r;n++)e+=t[n];return e},K=function(t,e){for(var n=new Array(e-t),r=0,i=n.length;r<i;r++)n[r]=t+r;return n},G=function(t,e){for(var n=new Array(e.length),r=0,i=e.length;r<i;r++)n[r]=t[e[r]];return n},H=function(t){return t instanceof Uint8Array||t instanceof ArrayBuffer||"string"==typeof t},_=function(t){if("string"==typeof t)return p(t);if(t instanceof ArrayBuffer)return new Uint8Array(t);if(t instanceof Uint8Array)return t;throw new TypeError("`input` must be one of `string | ArrayBuffer | Uint8Array`")},X=function(){return new Promise((function(t){setTimeout((function(){return t()}),0)}))},Z=function(t,e){void 0===e&&(e=!0);var n=[];e&&n.push(65279);for(var r=0,i=t.length;r<i;){var o=t.codePointAt(r);if(o<65536)n.push(o),r+=1;else{if(!(o<1114112))throw new Error("Invalid code point: 0x"+m(o));n.push(Q(o),$(o)),r+=2}}return new Uint16Array(n)},Y=function(t){return t>=0&&t<=65535},J=function(t){return t>=65536&&t<=1114111},Q=function(t){return Math.floor((t-65536)/1024)+55296},$=function(t){return(t-65536)%1024+56320};!function(t){t.BigEndian="BigEndian",t.LittleEndian="LittleEndian"}(u||(u={}));var tt="ï¿½".codePointAt(0),et=function(t,e){if(void 0===e&&(e=!0),t.length<=1)return String.fromCodePoint(tt);for(var n=e?ot(t):u.BigEndian,r=e?2:0,i=[];t.length-r>=2;){var o=it(t[r++],t[r++],n);if(nt(o))if(t.length-r<2)i.push(tt);else{var a=it(t[r++],t[r++],n);rt(a)?i.push(o,a):i.push(tt)}else rt(o)?(r+=2,i.push(tt)):i.push(o)}return r<t.length&&i.push(tt),String.fromCodePoint.apply(String,i)},nt=function(t){return t>=55296&&t<=56319},rt=function(t){return t>=56320&&t<=57343},it=function(t,e,n){if(n===u.LittleEndian)return e<<8|t;if(n===u.BigEndian)return t<<8|e;throw new Error("Invalid byteOrder: "+n)},ot=function(t){return at(t)?u.BigEndian:st(t)?u.LittleEndian:u.BigEndian},at=function(t){return 254===t[0]&&255===t[1]},st=function(t){return 255===t[0]&&254===t[1]},lt=function(t){return at(t)||st(t)},ht=function(t){var e,n=String(t);if(Math.abs(t)<1){if(e=parseInt(t.toString().split("e-")[1])){var r=t<0;r&&(t*=-1),t*=Math.pow(10,e-1),n="0."+new Array(e).join("0")+t.toString().substring(2),r&&(n="-"+n)}}else(e=parseInt(t.toString().split("+")[1]))>20&&(e-=20,n=(t/=Math.pow(10,e)).toString()+new Array(e+1).join("0"));return n},ut=function(t){return Math.ceil(t.toString(2).length/8)},ct=function(t){for(var e=new Uint8Array(ut(t)),n=1;n<=e.length;n++)e[n-1]=t>>8*(e.length-n);return e},dt=function(t){throw new Error(t)};function ft(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&n.path)}},n.exports),n.exports}var pt=ft((function(t,e){var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)r(n,i)&&(t[i]=n[i])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var i={arraySet:function(t,e,n,r,i){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+r),i);else for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){var e,n,r,i,o,a;for(r=0,e=0,n=t.length;e<n;e++)r+=t[e].length;for(a=new Uint8Array(r),i=0,e=0,n=t.length;e<n;e++)o=t[e],a.set(o,i),i+=o.length;return a}},o={arraySet:function(t,e,n,r,i){for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,i)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,o))},e.setTyped(n)}));function gt(t){for(var e=t.length;--e>=0;)t[e]=0}var vt=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],yt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],mt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],bt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],wt=new Array(576);gt(wt);var xt=new Array(60);gt(xt);var kt=new Array(512);gt(kt);var Ft=new Array(256);gt(Ft);var St=new Array(29);gt(St);var Ct,At,Tt,Pt=new Array(30);function zt(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}function Rt(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function Ot(t){return t<256?kt[t]:kt[256+(t>>>7)]}function Dt(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function Bt(t,e,n){t.bi_valid>16-n?(t.bi_buf|=e<<t.bi_valid&65535,Dt(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=n-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function Nt(t,e,n){Bt(t,n[2*e],n[2*e+1])}function Et(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function jt(t,e,n){var r,i,o=new Array(16),a=0;for(r=1;r<=15;r++)o[r]=a=a+n[r-1]<<1;for(i=0;i<=e;i++){var s=t[2*i+1];0!==s&&(t[2*i]=Et(o[s]++,s))}}function Mt(t){var e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function It(t){t.bi_valid>8?Dt(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function Ut(t,e,n,r){var i=2*e,o=2*n;return t[i]<t[o]||t[i]===t[o]&&r[e]<=r[n]}function Vt(t,e,n){for(var r=t.heap[n],i=n<<1;i<=t.heap_len&&(i<t.heap_len&&Ut(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!Ut(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r}function Wt(t,e,n){var r,i,o,a,s=0;if(0!==t.last_lit)do{r=t.pending_buf[t.d_buf+2*s]<<8|t.pending_buf[t.d_buf+2*s+1],i=t.pending_buf[t.l_buf+s],s++,0===r?Nt(t,i,e):(Nt(t,(o=Ft[i])+256+1,e),0!==(a=vt[o])&&Bt(t,i-=St[o],a),Nt(t,o=Ot(--r),n),0!==(a=yt[o])&&Bt(t,r-=Pt[o],a))}while(s<t.last_lit);Nt(t,256,e)}function qt(t,e){var n,r,i,o=e.dyn_tree,a=e.stat_desc.static_tree,s=e.stat_desc.has_stree,l=e.stat_desc.elems,h=-1;for(t.heap_len=0,t.heap_max=573,n=0;n<l;n++)0!==o[2*n]?(t.heap[++t.heap_len]=h=n,t.depth[n]=0):o[2*n+1]=0;for(;t.heap_len<2;)o[2*(i=t.heap[++t.heap_len]=h<2?++h:0)]=1,t.depth[i]=0,t.opt_len--,s&&(t.static_len-=a[2*i+1]);for(e.max_code=h,n=t.heap_len>>1;n>=1;n--)Vt(t,o,n);i=l;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],Vt(t,o,1),r=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=r,o[2*i]=o[2*n]+o[2*r],t.depth[i]=(t.depth[n]>=t.depth[r]?t.depth[n]:t.depth[r])+1,o[2*n+1]=o[2*r+1]=i,t.heap[1]=i++,Vt(t,o,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,r,i,o,a,s,l=e.dyn_tree,h=e.max_code,u=e.stat_desc.static_tree,c=e.stat_desc.has_stree,d=e.stat_desc.extra_bits,f=e.stat_desc.extra_base,p=e.stat_desc.max_length,g=0;for(o=0;o<=15;o++)t.bl_count[o]=0;for(l[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<573;n++)(o=l[2*l[2*(r=t.heap[n])+1]+1]+1)>p&&(o=p,g++),l[2*r+1]=o,r>h||(t.bl_count[o]++,a=0,r>=f&&(a=d[r-f]),s=l[2*r],t.opt_len+=s*(o+a),c&&(t.static_len+=s*(u[2*r+1]+a)));if(0!==g){do{for(o=p-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[p]--,g-=2}while(g>0);for(o=p;0!==o;o--)for(r=t.bl_count[o];0!==r;)(i=t.heap[--n])>h||(l[2*i+1]!==o&&(t.opt_len+=(o-l[2*i+1])*l[2*i],l[2*i+1]=o),r--)}}(t,e),jt(o,h,t.bl_count)}function Lt(t,e,n){var r,i,o=-1,a=e[1],s=0,l=7,h=4;for(0===a&&(l=138,h=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=e[2*(r+1)+1],++s<l&&i===a||(s<h?t.bl_tree[2*i]+=s:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[32]++):s<=10?t.bl_tree[34]++:t.bl_tree[36]++,s=0,o=i,0===a?(l=138,h=3):i===a?(l=6,h=3):(l=7,h=4))}function Kt(t,e,n){var r,i,o=-1,a=e[1],s=0,l=7,h=4;for(0===a&&(l=138,h=3),r=0;r<=n;r++)if(i=a,a=e[2*(r+1)+1],!(++s<l&&i===a)){if(s<h)do{Nt(t,i,t.bl_tree)}while(0!=--s);else 0!==i?(i!==o&&(Nt(t,i,t.bl_tree),s--),Nt(t,16,t.bl_tree),Bt(t,s-3,2)):s<=10?(Nt(t,17,t.bl_tree),Bt(t,s-3,3)):(Nt(t,18,t.bl_tree),Bt(t,s-11,7));s=0,o=i,0===a?(l=138,h=3):i===a?(l=6,h=3):(l=7,h=4)}}gt(Pt);var Gt=!1;function Ht(t,e,n,r){Bt(t,0+(r?1:0),3),function(t,e,n,r){It(t),r&&(Dt(t,n),Dt(t,~n)),pt.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}(t,e,n,!0)}var _t={_tr_init:function(t){Gt||(!function(){var t,e,n,r,i,o=new Array(16);for(n=0,r=0;r<28;r++)for(St[r]=n,t=0;t<1<<vt[r];t++)Ft[n++]=r;for(Ft[n-1]=r,i=0,r=0;r<16;r++)for(Pt[r]=i,t=0;t<1<<yt[r];t++)kt[i++]=r;for(i>>=7;r<30;r++)for(Pt[r]=i<<7,t=0;t<1<<yt[r]-7;t++)kt[256+i++]=r;for(e=0;e<=15;e++)o[e]=0;for(t=0;t<=143;)wt[2*t+1]=8,t++,o[8]++;for(;t<=255;)wt[2*t+1]=9,t++,o[9]++;for(;t<=279;)wt[2*t+1]=7,t++,o[7]++;for(;t<=287;)wt[2*t+1]=8,t++,o[8]++;for(jt(wt,287,o),t=0;t<30;t++)xt[2*t+1]=5,xt[2*t]=Et(t,5);Ct=new zt(wt,vt,257,286,15),At=new zt(xt,yt,0,30,15),Tt=new zt(new Array(0),mt,0,19,7)}(),Gt=!0),t.l_desc=new Rt(t.dyn_ltree,Ct),t.d_desc=new Rt(t.dyn_dtree,At),t.bl_desc=new Rt(t.bl_tree,Tt),t.bi_buf=0,t.bi_valid=0,Mt(t)},_tr_stored_block:Ht,_tr_flush_block:function(t,e,n,r){var i,o,a=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),qt(t,t.l_desc),qt(t,t.d_desc),a=function(t){var e;for(Lt(t,t.dyn_ltree,t.l_desc.max_code),Lt(t,t.dyn_dtree,t.d_desc.max_code),qt(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*bt[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),i=t.opt_len+3+7>>>3,(o=t.static_len+3+7>>>3)<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==e?Ht(t,e,n,r):4===t.strategy||o===i?(Bt(t,2+(r?1:0),3),Wt(t,wt,xt)):(Bt(t,4+(r?1:0),3),function(t,e,n,r){var i;for(Bt(t,e-257,5),Bt(t,n-1,5),Bt(t,r-4,4),i=0;i<r;i++)Bt(t,t.bl_tree[2*bt[i]+1],3);Kt(t,t.dyn_ltree,e-1),Kt(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),Wt(t,t.dyn_ltree,t.dyn_dtree)),Mt(t),r&&It(t)},_tr_tally:function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(Ft[n]+256+1)]++,t.dyn_dtree[2*Ot(e)]++),t.last_lit===t.lit_bufsize-1},_tr_align:function(t){Bt(t,2,3),Nt(t,256,wt),function(t){16===t.bi_valid?(Dt(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}};var Xt=function(t,e,n,r){for(var i=65535&t|0,o=t>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(i=i+e[r++]|0)|0}while(--a);i%=65521,o%=65521}return i|o<<16|0};var Zt=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();var Yt,Jt=function(t,e,n,r){var i=Zt,o=r+n;t^=-1;for(var a=r;a<o;a++)t=t>>>8^i[255&(t^e[a])];return-1^t},Qt={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};function $t(t,e){return t.msg=Qt[e],e}function te(t){return(t<<1)-(t>4?9:0)}function ee(t){for(var e=t.length;--e>=0;)t[e]=0}function ne(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(pt.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function re(t,e){_t._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,ne(t.strm)}function ie(t,e){t.pending_buf[t.pending++]=e}function oe(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function ae(t,e,n,r){var i=t.avail_in;return i>r&&(i=r),0===i?0:(t.avail_in-=i,pt.arraySet(e,t.input,t.next_in,i,n),1===t.state.wrap?t.adler=Xt(t.adler,e,i,n):2===t.state.wrap&&(t.adler=Jt(t.adler,e,i,n)),t.next_in+=i,t.total_in+=i,i)}function se(t,e){var n,r,i=t.max_chain_length,o=t.strstart,a=t.prev_length,s=t.nice_match,l=t.strstart>t.w_size-262?t.strstart-(t.w_size-262):0,h=t.window,u=t.w_mask,c=t.prev,d=t.strstart+258,f=h[o+a-1],p=h[o+a];t.prev_length>=t.good_match&&(i>>=2),s>t.lookahead&&(s=t.lookahead);do{if(h[(n=e)+a]===p&&h[n+a-1]===f&&h[n]===h[o]&&h[++n]===h[o+1]){o+=2,n++;do{}while(h[++o]===h[++n]&&h[++o]===h[++n]&&h[++o]===h[++n]&&h[++o]===h[++n]&&h[++o]===h[++n]&&h[++o]===h[++n]&&h[++o]===h[++n]&&h[++o]===h[++n]&&o<d);if(r=258-(d-o),o=d-258,r>a){if(t.match_start=e,a=r,r>=s)break;f=h[o+a-1],p=h[o+a]}}}while((e=c[e&u])>l&&0!=--i);return a<=t.lookahead?a:t.lookahead}function le(t){var e,n,r,i,o,a=t.w_size;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=a+(a-262)){pt.arraySet(t.window,t.window,a,a,0),t.match_start-=a,t.strstart-=a,t.block_start-=a,e=n=t.hash_size;do{r=t.head[--e],t.head[e]=r>=a?r-a:0}while(--n);e=n=a;do{r=t.prev[--e],t.prev[e]=r>=a?r-a:0}while(--n);i+=a}if(0===t.strm.avail_in)break;if(n=ae(t.strm,t.window,t.strstart+t.lookahead,i),t.lookahead+=n,t.lookahead+t.insert>=3)for(o=t.strstart-t.insert,t.ins_h=t.window[o],t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+1])&t.hash_mask;t.ins
